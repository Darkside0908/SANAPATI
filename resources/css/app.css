@import 'tailwindcss';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@layer base {
    :root {
        /* ═══════════════════════════════════════════════════════
           LIGHT MODE: "Soft Cloud" - Premium & Airy
           ═══════════════════════════════════════════════════════ */

        /* Surfaces - Warm, soft off-whites */
        --bg-surface-1: #FAFAF9;
        /* Stone 50 - Warm off-white base */
        --bg-surface-2: #F5F5F4;
        /* Stone 100 - Card background */
        --bg-surface-3: #E7E5E4;
        /* Stone 200 - Hover state */

        /* Text - Softer blacks for reduced eye strain */
        --text-primary: #1C1917;
        /* Stone 900 - Deep warm black */
        --text-secondary: #78716C;
        /* Stone 500 - Muted text */

        /* Borders & Dividers */
        --border-subtle: #E7E5E4;
        /* Stone 200 - Soft warm borders */
        --border-interactive: #D6D3D1;
        /* Stone 300 - Interactive elements */

        /* Grid pattern */
        --grid-color: rgba(28, 25, 23, 0.03);

        /* Shadows - Very subtle, warm-toned */
        --shadow-sm: 0 1px 2px 0 rgba(28, 25, 23, 0.03);
        --shadow-md: 0 4px 6px -1px rgba(28, 25, 23, 0.05),
            0 2px 4px -2px rgba(28, 25, 23, 0.03);
        --shadow-lg: 0 10px 15px -3px rgba(28, 25, 23, 0.06),
            0 4px 6px -4px rgba(28, 25, 23, 0.03);

        /* Accents - Vibrant but refined */
        --accent-cyan: #0891B2;
        /* Cyan 600 - Professional teal */
        --accent-green: #059669;
        /* Emerald 600 - Fresh green */
        --accent-purple: #7C3AED;
        /* Violet 600 - Royal purple */
        --accent-yellow: #D97706;
        /* Amber 600 - Warm amber */
        --accent-pink: #DB2777;
        /* Pink 600 - Vibrant pink */
        --accent-blue: #2563EB;
        /* Blue 600 - Rich blue */
    }

    :root.dark {
        /* ═══════════════════════════════════════════════════════
           DARK MODE: "Deep Space Elegance" - Cyberpunk Refined
           ═══════════════════════════════════════════════════════ */

        /* Surfaces - Deep blue-purple space */
        --bg-surface-1: #0A0E1A;
        /* Deep space base */
        --bg-surface-2: #131824;
        /* Elevated surface 1 */
        --bg-surface-3: #1A2030;
        /* Elevated surface 2 / Hover */

        /* Text - Soft whites, never pure */
        --text-primary: #E8EAF0;
        /* Soft white with blue tint */
        --text-secondary: #9CA3B8;
        /* Muted lavender-gray */

        /* Borders & Dividers - Subtle blue/purple hints */
        --border-subtle: #1F2937;
        /* Very subtle border */
        --border-interactive: #2D3748;
        /* Interactive borders */

        /* Grid pattern */
        --grid-color: rgba(139, 92, 246, 0.02);
        /* Purple-tinted grid */

        /* Shadows - Deep with subtle glow */
        --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.4);
        --shadow-md: 0 4px 8px -2px rgba(0, 0, 0, 0.5),
            0 2px 4px -2px rgba(139, 92, 246, 0.1);
        --shadow-lg: 0 10px 20px -5px rgba(0, 0, 0, 0.6),
            0 4px 8px -4px rgba(139, 92, 246, 0.15);

        /* Accents - Neon-ish but elegant, with glow */
        --accent-cyan: #06B6D4;
        /* Cyan 500 - Electric teal */
        --accent-green: #10B981;
        /* Emerald 500 - Matrix green */
        --accent-purple: #A78BFA;
        /* Violet 400 - Soft neon purple */
        --accent-yellow: #FBBF24;
        /* Amber 400 - Warm gold */
        --accent-pink: #EC4899;
        /* Pink 500 - Hot pink */
        --accent-blue: #3B82F6;
        /* Blue 500 - Electric blue */

        /* Glow effects for dark mode */
        --glow-cyan: 0 0 20px rgba(6, 182, 212, 0.3);
        --glow-purple: 0 0 20px rgba(167, 139, 250, 0.3);
        --glow-green: 0 0 20px rgba(16, 185, 129, 0.3);
    }
}

@theme {
    /* Mapping Semantic Tokens to Tailwind Utilities */
    --color-surface-1: var(--bg-surface-1);
    --color-surface-2: var(--bg-surface-2);
    --color-surface-3: var(--bg-surface-3);

    --color-fg-primary: var(--text-primary);
    --color-fg-secondary: var(--text-secondary);

    --color-border-base: var(--border-subtle);
    --color-border-interactive: var(--border-interactive);

    /* Semantic Accents */
    --color-brand-cyan: var(--accent-cyan);
    --color-brand-green: var(--accent-green);
    --color-brand-purple: var(--accent-purple);
    --color-brand-yellow: var(--accent-yellow);
    --color-brand-pink: var(--accent-pink);
    --color-brand-blue: var(--accent-blue);

    /* Fonts */
    --font-sans: 'Instrument Sans', 'Plus Jakarta Sans', ui-sans-serif, system-ui, -apple-system, sans-serif;
    --font-mono: 'JetBrains Mono', 'Courier New', monospace;
}

/* Global Styles */
html {
    font-size: 16px;
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    background-color: var(--bg-surface-1);
    color: var(--text-primary);
    font-family: var(--font-sans);
    line-height: 1.6;
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* Refined Circuit Background */
.circuit-bg {
    background-image:
        repeating-linear-gradient(0deg,
            var(--grid-color) 0px,
            transparent 1px,
            transparent 40px,
            var(--grid-color) 41px),
        repeating-linear-gradient(90deg,
            var(--grid-color) 0px,
            transparent 1px,
            transparent 40px,
            var(--grid-color) 41px);
    background-size: 40px 40px;
}

/* Utility: Glass Effect */
.glass {
    background: rgba(250, 250, 249, 0.75);
    backdrop-filter: blur(16px);
    border: 1px solid var(--border-subtle);
    box-shadow: var(--shadow-md);
}

:root.dark .glass {
    background: rgba(19, 24, 36, 0.7);
    backdrop-filter: blur(16px);
    border: 1px solid var(--border-interactive);
    box-shadow: var(--shadow-md);
}

/* Tree Component Styles (Legacy Support + Refactor) */
.tree-item {
    position: relative;
    padding: 0.5rem 0.5rem 0.5rem 1.5rem;
    cursor: pointer;
    transition: background-color 0.15s ease;
    color: var(--text-primary);
}

.tree-item:hover {
    background-color: var(--bg-surface-3);
}

.tree-item.selected {
    background-color: color-mix(in srgb, var(--accent-cyan) 10%, transparent);
    border-left: 3px solid var(--accent-cyan);
}

.tree-caret {
    display: inline-block;
    margin-right: 0.5rem;
    transition: transform 0.2s ease;
    color: var(--accent-cyan);
}

.tree-caret.expanded {
    transform: rotate(90deg);
}

/* Badge Refinements */
.badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    transition: all 0.2s ease;
}

.badge-outcome {
    background-color: color-mix(in srgb, var(--accent-purple) 15%, transparent);
    color: var(--accent-purple);
    border: 1px solid color-mix(in srgb, var(--accent-purple) 30%, transparent);
}

:root.dark .badge-outcome {
    box-shadow: var(--glow-purple);
}

.badge-sasaran {
    background-color: color-mix(in srgb, var(--accent-blue) 15%, transparent);
    color: var(--accent-blue);
    border: 1px solid color-mix(in srgb, var(--accent-blue) 30%, transparent);
}

:root.dark .badge-sasaran {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
}

.badge-program {
    background-color: color-mix(in srgb, var(--accent-cyan) 15%, transparent);
    color: var(--accent-cyan);
    border: 1px solid color-mix(in srgb, var(--accent-cyan) 30%, transparent);
}

:root.dark .badge-program {
    box-shadow: var(--glow-cyan);
}

.badge-kegiatan {
    background-color: color-mix(in srgb, var(--accent-green) 15%, transparent);
    color: var(--accent-green);
    border: 1px solid color-mix(in srgb, var(--accent-green) 30%, transparent);
}

:root.dark .badge-kegiatan {
    box-shadow: var(--glow-green);
}

.badge-indikator {
    background-color: color-mix(in srgb, var(--accent-yellow) 15%, transparent);
    color: var(--accent-yellow);
    border: 1px solid color-mix(in srgb, var(--accent-yellow) 30%, transparent);
}

:root.dark .badge-indikator {
    box-shadow: 0 0 20px rgba(251, 191, 36, 0.25);
}

/* Animations */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-fade-in {
    animation: fadeIn 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Glow Utilities */
.glow-text {
    text-shadow: 0 0 20px color-mix(in srgb, var(--accent-cyan) 50%, transparent);
}

.glow-border {
    box-shadow: 0 0 15px -3px color-mix(in srgb, var(--accent-cyan) 30%, transparent);
}

:root.dark .glow-text {
    text-shadow: var(--glow-cyan);
}

:root.dark .glow-border {
    box-shadow: var(--glow-cyan);
}

/* Enhanced Button & Interactive Utilities */
.btn-primary {
    background-color: var(--accent-cyan);
    color: white;
    padding: 0.5rem 1.5rem;
    border-radius: 0.5rem;
    font-weight: 600;
    transition: all 0.2s ease;
    border: 1px solid transparent;
}

.btn-primary:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

:root.dark .btn-primary:hover {
    box-shadow: var(--glow-cyan);
}

.btn-secondary {
    background-color: var(--bg-surface-2);
    color: var(--text-primary);
    padding: 0.5rem 1.5rem;
    border-radius: 0.5rem;
    font-weight: 600;
    transition: all 0.2s ease;
    border: 1px solid var(--border-subtle);
}

.btn-secondary:hover {
    background-color: var(--bg-surface-3);
    border-color: var(--border-interactive);
}

/* Card Utilities */
.card {
    background-color: var(--bg-surface-2);
    border: 1px solid var(--border-subtle);
    border-radius: 0.75rem;
    padding: 1.5rem;
    box-shadow: var(--shadow-sm);
    transition: all 0.2s ease;
}

.card:hover {
    box-shadow: var(--shadow-md);
    border-color: var(--border-interactive);
}

:root.dark .card:hover {
    box-shadow: var(--shadow-md);
}

/* Input Utilities */
.input {
    background-color: var(--bg-surface-1);
    border: 1px solid var(--border-subtle);
    border-radius: 0.5rem;
    padding: 0.5rem 1rem;
    color: var(--text-primary);
    transition: all 0.2s ease;
}

.input:focus {
    outline: none;
    border-color: var(--accent-cyan);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent-cyan) 10%, transparent);
}

:root.dark .input:focus {
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent-cyan) 15%, transparent),
        var(--glow-cyan);
}